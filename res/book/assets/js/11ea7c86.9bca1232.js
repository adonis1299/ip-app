"use strict";(self.webpackChunkbook=self.webpackChunkbook||[]).push([[431],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return f}});var i=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=i.createContext({}),u=function(e){var t=i.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},c=function(e){var t=u(e.components);return i.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},p=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),p=u(n),f=a,h=p["".concat(s,".").concat(f)]||p[f]||d[f]||o;return n?i.createElement(h,r(r({ref:t},c),{},{components:n})):i.createElement(h,r({ref:t},c))}));function f(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,r=new Array(o);r[0]=p;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,r[1]=l;for(var u=2;u<o;u++)r[u]=n[u];return i.createElement.apply(null,r)}return i.createElement.apply(null,n)}p.displayName="MDXCreateElement"},9890:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return s},default:function(){return f},frontMatter:function(){return l},metadata:function(){return u},toc:function(){return d}});var i=n(7462),a=n(3366),o=(n(7294),n(3905)),r=["components"],l={},s="Liquidations",u={unversionedId:"concepts/USDi/LiquidationSystem",id:"concepts/USDi/LiquidationSystem",title:"Liquidations",description:"Liquidations are a critical feature of any lending market. A good liquidation system is what keeps the system solvent and functioning. A strong liquidation system can support the protocol to offer capital-efficient opportunities.",source:"@site/docs/concepts/USDi/LiquidationSystem.md",sourceDirName:"concepts/USDi",slug:"/concepts/USDi/LiquidationSystem",permalink:"/book/docs/concepts/USDi/LiquidationSystem",editUrl:"https://gfx.cafe/ip/app/-/tree/master/book/docs/concepts/USDi/LiquidationSystem.md",tags:[],version:"current",frontMatter:{},sidebar:"sidebar",previous:{title:"Borrowing",permalink:"/book/docs/concepts/USDi/Borrowing"},next:{title:"Oracle system",permalink:"/book/docs/concepts/USDi/OracleSystem"}},c={},d=[],p={toc:d};function f(e){var t=e.components,n=(0,a.Z)(e,r);return(0,o.kt)("wrapper",(0,i.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"liquidations"},"Liquidations"),(0,o.kt)("p",null,"Liquidations are a critical feature of any lending market. A good liquidation system is what keeps the system solvent and functioning. A strong liquidation system can support the protocol to offer capital-efficient opportunities. "),(0,o.kt)("p",null,"Interest Protocol's liquidation system is simple and fair. The collateral value/debit limit is calculated in the ",(0,o.kt)("inlineCode",{parentName:"p"},"VaultController")," by the ",(0,o.kt)("inlineCode",{parentName:"p"},"get_vault_borrowing_power(vault)")," function. The function checks the vault's balances, fetches the asset prices, and discounts them by their Loan To Value (LTV) rate. If a vault's debt exceeds their debt limit, anyone can call the ",(0,o.kt)("inlineCode",{parentName:"p"},"liquidate_account(id, asset_address, tokens_to_liquidate)")," function to perform a liquidation. The liquidation function allows liquidators to liquidate the vault so that their debt is greater than or equal to their debt limit, but their debt cannot be less than their debt limit. This prevents liquidators from liquidating more than necessary. Notably, liquidators can perform partial liquations. If a massive liquidation needs to occur, multiple liquidators can partially fill the liquidation until the debt <= the debt limit. The reverse is possible; if a liquidator tries to liquidate more of an asset than what is available in the vault, the liquidator will receive a partial fill. "),(0,o.kt)("p",null,"Liquidators can check a vault's liquidation eligibility by calling the ",(0,o.kt)("inlineCode",{parentName:"p"},"checkAccount(id)")," function on the ",(0,o.kt)("inlineCode",{parentName:"p"},"VaultController"),". The function returns ",(0,o.kt)("em",{parentName:"p"},"true")," if the account is safe and ",(0,o.kt)("em",{parentName:"p"},"false")," if unsafe. "),(0,o.kt)("p",null,"If a liquidator wants to calculate the maximum amount of collateral they can purchase from a vault, they can call the ",(0,o.kt)("inlineCode",{parentName:"p"},"TokensToLiquidate(id,asset_address,tokens_to_liquidate)")," function on the ",(0,o.kt)("inlineCode",{parentName:"p"},"VaultController"),". The function checks the vault's debt and debt limit and finds the difference. It also gets the liquidation incentive for the purchased asset, LTV, and the price. The function calculates the exact number of asset tokens that would need to be liquidated to make the debt equal to the debt limit at the end of the liquidation. If the ",(0,o.kt)("inlineCode",{parentName:"p"},"tokens_to_liquidate")," the liquidator passed in is less than the number calculated, the liquidator's number is used. An additional check verifies the vault has the number of tokens the liquidator wishes to liquidate. If not, it uses the vault's balance. "),(0,o.kt)("p",null,"In the event the liquidator is utilizing more than one asset for collateral, the liquidator will need to perform more than one transaction to liquidate the vault."))}f.isMDXComponent=!0}}]);