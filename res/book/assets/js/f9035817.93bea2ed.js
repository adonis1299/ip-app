"use strict";(self.webpackChunkbook=self.webpackChunkbook||[]).push([[558],{3905:function(e,r,t){t.d(r,{Zo:function(){return p},kt:function(){return f}});var n=t(7294);function a(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function i(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?i(Object(t),!0).forEach((function(r){a(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function c(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var l=n.createContext({}),u=function(e){var r=n.useContext(l),t=r;return e&&(t="function"==typeof e?e(r):o(o({},r),e)),t},p=function(e){var r=u(e.components);return n.createElement(l.Provider,{value:r},e.children)},s={inlineCode:"code",wrapper:function(e){var r=e.children;return n.createElement(n.Fragment,{},r)}},h=n.forwardRef((function(e,r){var t=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),h=u(t),f=a,d=h["".concat(l,".").concat(f)]||h[f]||s[f]||i;return t?n.createElement(d,o(o({ref:r},p),{},{components:t})):n.createElement(d,o({ref:r},p))}));function f(e,r){var t=arguments,a=r&&r.mdxType;if("string"==typeof e||a){var i=t.length,o=new Array(i);o[0]=h;var c={};for(var l in r)hasOwnProperty.call(r,l)&&(c[l]=r[l]);c.originalType=e,c.mdxType="string"==typeof e?e:a,o[1]=c;for(var u=2;u<i;u++)o[u]=t[u];return n.createElement.apply(null,o)}return n.createElement.apply(null,t)}h.displayName="MDXCreateElement"},7149:function(e,r,t){t.r(r),t.d(r,{assets:function(){return p},contentTitle:function(){return l},default:function(){return f},frontMatter:function(){return c},metadata:function(){return u},toc:function(){return s}});var n=t(7462),a=t(3366),i=(t(7294),t(3905)),o=["components"],c={},l="Anchored View Relay",u={unversionedId:"reference/Periphery/AnchorOracleRelay",id:"reference/Periphery/AnchorOracleRelay",title:"Anchored View Relay",description:"Overview",source:"@site/docs/reference/Periphery/AnchorOracleRelay.md",sourceDirName:"reference/Periphery",slug:"/reference/Periphery/AnchorOracleRelay",permalink:"/book/docs/reference/Periphery/AnchorOracleRelay",editUrl:"https://gfx.cafe/ip/app/-/tree/master/book/docs/reference/Periphery/AnchorOracleRelay.md",tags:[],version:"current",frontMatter:{},sidebar:"sidebar",previous:{title:"Periphery",permalink:"/book/docs/category/periphery"},next:{title:"Chainlink Oracle Relay",permalink:"/book/docs/reference/Periphery/ChainlinkOracleRelay"}},p={},s=[{value:"Overview",id:"overview",level:2},{value:"Constructor",id:"constructor",level:2},{value:"Functions",id:"functions",level:2}],h={toc:s};function f(e){var r=e.components,t=(0,a.Z)(e,o);return(0,i.kt)("wrapper",(0,n.Z)({},h,t,{components:r,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"anchored-view-relay"},"Anchored View Relay"),(0,i.kt)("h2",{id:"overview"},"Overview"),(0,i.kt)("p",null,"The anchor view relay uses a main relay and anchor relay to return an asset price. The main relay price is checked against the anchor relay on each call to certify the main relay price is within the set bounds of the anchor relay."),(0,i.kt)("h2",{id:"constructor"},"Constructor"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"anchor_address: the relay address of the anchor. This will be the Uniswap v3 relay at launch but additional relays could be implemented."),(0,i.kt)("li",{parentName:"ul"},"main_address: the relay address of the main. This will be the Chainlink relay at launch but additional relays could be implemented."),(0,i.kt)("li",{parentName:"ul"},"widthNumerator: to implement the buffer around the anchor price."),(0,i.kt)("li",{parentName:"ul"},"widthDenominator: to implement the buffer around the anchor price.")),(0,i.kt)("h2",{id:"functions"},"Functions"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"function currentValue() external view override returns (uint256)",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Is an external function that calls getLastSecond() which is a private functions."))),(0,i.kt)("li",{parentName:"ul"},"function getLastSecond() private view returns (uint256)",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"This calls the main and anchor prices and performs the check that the main price is within the defined anchor buffer. In the event it is not the transaction will revert.")))))}f.isMDXComponent=!0}}]);