# Liquidity Program

GFX Labs has allocated 10% of the IPT total supply (10,000,000 IPT) towards a liquidity program. The program acts as a catalyst to garner liquidity and participation in the nascent protocol. 55% of the rewards are being distributed to lenders (USDi holders), and the remaining 45% is going to borrowers.

Lenders/USDi holders are the most important piece of Interest Protocol. Without lenders, borrowers would be unable to borrow capital. Additionally, lenders take on the risk of the entire platform, whereas borrowers need only worry about their account's liquidation point. Borrower incentives encourage users to borrow USDi from the protocol, and lender incentives encourage liquidity. The interest paid by borrowers has a multiplicative effect by also incentivizing users to deposit USDC to mint USDi, which allows for more borrowing. This virtuous cycle helps the initial growth of Interest Protocol.

The liquidity program will last for two years. Approximately 1,833,325 IPT are being distributed in the program's first quarter, which started on June 14th, 2021. The quarterly reward will decrease by approximately 166,667 IPT every quarter. The 1st and 2nd quarters of the program focused incentives on borrowing and liquidity of USDi on-chain. In the 3rd quarter (week 29), the program changed to the current set of incentives.  

The distribution schedule for the 3rd quarter is given in the following tables.

# 3rd quarter 
|Type    | Total IPT|IPT per week|
|--------|----------|------------|
|**Borrow**| 666,665| 51,282|
|**Uniswap**|833,326|64,102
		
| Week | Starting block | Ending block |
|------|----------------|--------------|
| 27    | 16,244,257     | 16,294,657  |
| 28    | 16,294,658     | 16,345,058  |
| 29    | 16,345,059     | 16,39,5459  |
| 30    | 16,395,460     | 16,445860   |
| 31    | 16,445,861     | 16,496261   |
| 32    | 16,496,262     | 16,546,662  |
| 33    | 16,546,663     | 16,597,063  |
| 34    | 16,597,064    | 16,647,464   |
| 35    | 16,647,465    | 16,697,865   |
| 36   | 16,697,866     | 16,748,266   |
| 37   | 16,748,267     | 16,798,667   |
| 38   | 16,798,668     | 16,849,068   |
| 39   | 16,849,069     | 16,899,469   |
	
## Borrower Incentives

IPT is being distributed pro-rata to users who borrow USDi from Interest Protocol. For each borrower, we calculate $\frac{\text{USDi borrowed by borrower}}{\text{total USDi borrowed}}$ at each block. The average of this percentage over a week is the borrower's share of the rewards for that week. 

This means that users earn more rewards if they borrow when the total amount of outstanding USDi loans across the protocol is smaller.

Note that rewarding borrowers also benefit depositors (USDi holders) through higher interest rates. Depositors reap this benefit without having to spend gas to claim rewards.

## Lender Incentives

IPT is being distributed pro-rata to users who hold USDi. For each USDi holder, we calculate $\frac{\text{USDi held by user}}{\text{total USDi}}$ at each block. The average of this percentage over the course of a week is the liquidity provider's share of the rewards for that week. 


## Merkle Root Implementation
Interest Protocol utilizes Balancer's merkle root system to distribute rewards. An off-chain open source script calculates the amount of IPT reward for each IPT borrower and Uniswap v2 liquidity provider. All rewards that accrue between June 14th and the IPT sale (planned for August) will be available to claim at the time of the IPT sale. After the IPT sale, the claimable amount for each user will be updated weekly. Users can let their rewards accrue over multiple weeks and claim them at their convenience. The script can be found [here](https://github.com/gfx-labs/ip-contracts/tree/master/scripts/liquidity_mining).

## Governance
IPT holders can amend the Liquidity Program via a governance vote and by including a new script to calculate the incentives.

